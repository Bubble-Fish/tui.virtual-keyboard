!function e(t,i,n){function s(r,o){if(!i[r]){if(!t[r]){var u="function"==typeof require&&require;if(!o&&u)return u(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[r]={exports:{}};t[r][0].call(h.exports,function(e){var i=t[r][1][e];return s(i?i:e)},h,h.exports,e,t,i,n)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(e,t,i){ne.util.defineNamespace("ne.component.VirtualKeyboard",e("./src/js/virtualKeyboard.js"))},{"./src/js/virtualKeyboard.js":2}],2:[function(e,t,i){var n=ne.util.defineClass({_template:{key:'<li><button type="button" value="{KEY}">{KEY}</button></li>',blank:"<li></li>"},_fixedKeys:{},_rawKeys:[],_identifiedRawKeys:[],_keyMap:{},_keySequences:[],_callback:{},_currentKeyType:null,_isEnglish:!1,_isSymbol:!1,_isCapsLock:!1,_documentFragment:null,init:function(e){this._initVariables(e||{}),this._arrangeKeySequence(),this._refineKeyMap(),this._initKeyboard(e.container),this._attachEvent()},_initVariables:function(e){this._currentKeyType=e.keyType||"english",this._fixedKeys=e.functions||{},this._rawKeys=this._copyArray(e.keys),this._template=ne.util.extend(this._template,e.template),this._callback=e.callback||{},this._documentFragment=document.createDocumentFragment()},_attachEvent:function(){var e="createTouch"in document||"ontouchstart"in document,t=e?"touchstart":"click";this._$container.on(t,$.proxy(this._pressKeyHandler,this))},_pressKeyHandler:function(e){var t,i,n,s=this._getTargetButton(e.target);return ne.util.isExisty(s)?(t=$(s).text(),i=this._keyMap[t].rawIndex,n=this._getKeyGroup(t),void("key"===n?this._excuteCallback(n,i):(this[t](),this._excuteCallback(t)))):!1},_getTargetButton:function(e){return"BUTTON"===e.tagName.toUpperCase()?e:$(e).parent("button")[0]},_arrangeKeySequence:function(){var e;e=this._sortFixedKeys(),this._identifyRawKeys(),this._copyArray(this._identifiedRawKeys,this._keySequences),ne.util.forEach(e,function(e,t){ne.util.isExisty(e)&&this._keySequences.splice(this._fixedKeys[e],0,e)},this)},_identifyRawKeys:function(){var e=0;ne.util.forEach(this._rawKeys,function(t,i){"blank"===this._getKeyGroup(t)&&(t="blank"+e,e++),this._identifiedRawKeys[i]=t},this)},_copyArray:function(e,t){return ne.util.isExisty(e)?(ne.util.isArray(e)||(e=[e]),ne.util.isExisty(t)&&ne.util.isArray(t)||(t=[]),ne.util.forEach(e,function(e,i){t[i]=e},this),t):!1},_sortFixedKeys:function(){var e;return this._keySequences.length=0,e=ne.util.keys(this._fixedKeys)||[],e.sort($.proxy(function(e,t){return this._fixedKeys[e]-this._fixedKeys[t]},this)),e},_refineKeyMap:function(){this._refineFixedKeys(),this._refineFloatingKeys()},_refineFixedKeys:function(){ne.util.forEach(this._fixedKeys,function(e,t){this._keyMap[t]={key:t,rawIndex:null,positionIndex:e,keyGroup:this._getKeyGroup(t)}},this)},_refineFloatingKeys:function(){ne.util.forEach(this._identifiedRawKeys,function(e,t){ne.util.isExisty(this._keyMap[e])?this._keyMap[e].positionIndex=this._getPositionIndex(e):this._keyMap[e]={key:e,rawIndex:t,positionIndex:this._getPositionIndex(e),keyGroup:this._getKeyGroup(this._rawKeys[t])}},this)},_getKeyGroup:function(e){var t;return t=ne.util.isExisty(this._fixedKeys[e])?"function":""===e?"blank":"key"},_getPositionIndex:function(e){for(var t=0,i=this._keySequences.length;i>t;t++)if(e===this._keySequences[t])return t},_initKeyboard:function(e){this._initContainer(e),this._arrangeKeys()},_initContainer:function(e){this._$container?ne.util.forEach(this._identifiedRawKeys,function(e){this._documentFragment.appendChild(this._keyMap[e].element)},this):(this._$container=$("#"+e),ne.util.isHTMLTag(this._$container[0])||(this._$container=this._createContainer()))},_createContainer:function(){var e="vk-"+this._getTime(),t=$("<ul id="+e+">");return $(document.body).append(t),t},_getTime:function(){var e;return Date.now&&(e=Date.now()||(new Date).getTime()),e},_arrangeKeys:function(){var e;ne.util.forEach(this._keySequences,function(t){e=this._keyMap[t].element,ne.util.isHTMLTag(e)||(this._keyMap[t].element=e=this._createKeyElement(t)),this._$container.append(e)},this)},_getTemplate:function(e,t){var i;return i="blank"===e?this._template.blank:this._template[t]||this._template.key,ne.util.isExisty(t)&&(i=i.replace(/{KEY}/g,t)),i},_createKeyElement:function(e){var t=this._keyMap[e].keyGroup,i=this._getTemplate(t,e),n=$(i),s=n.find("button");return!s.val()&&ne.util.isExisty(e)&&s.val(e),n[0]},_reArrangeKeys:function(e){this._rawKeys.length=0,this._keySequences.length=0,this._copyArray(e,this._rawKeys),this._arrangeKeySequence(),this._refineFloatingKeys(),this._arrangeKeys()},_excuteCallback:function(e,t){ne.util.isExisty(this._callback,e)&&ne.util.isFunction(this._callback[e])&&this._callback[e](t)},_getRawKeys:function(e){var t;ne.util.isExisty(this._callback,"getKeys")&&ne.util.isFunction(this._callback.getKeys)&&(t=e?this._callback.getKeys(this._currentKeyType,this._isCapsLock,!0):this._callback.getKeys(this._currentKeyType,this._isCapsLock)),ne.util.isArray(t)&&this._reArrangeKeys(t)},shuffle:function(){this._keySequences.length=0,this._initContainer(),this._getRawKeys()},language:function(){this._initContainer(),this._isEnglish=!this._isEnglish,this._currentKeyType=this._isEnglish?"english":"korean",this._getRawKeys()},caps:function(){this._initContainer(),this._isCapsLock=!this._isCapsLock,this._getRawKeys(!0)},symbol:function(){this._initContainer(),this._isSymbol=!this._isSymbol,this._currentKeyType=this._isSymbol?"symbol":"number",this._getRawKeys()},remove:function(){},clear:function(){},space:function(){},open:function(){this.shuffle(),this._$container.show()},close:function(){this.clear(),this._$container.hide()},done:function(){this.close()}});t.exports=n},{}]},{},[1]);